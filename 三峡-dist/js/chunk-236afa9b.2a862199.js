(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-236afa9b"],{"0187":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"s-canvas"},[s("canvas",{attrs:{id:"s-canvas",width:t.contentWidth,height:t.contentHeight}})])},o=[],a=(s("a9e3"),s("cb29"),{name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:40},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:240},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:150},lineColorMax:{type:Number,default:150},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:0},contentWidth:{type:Number,default:100},contentHeight:{type:Number,default:40}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){this.randomNum(t,e),this.randomNum(t,e),this.randomNum(t,e);return"rgb(255,255,255)"},drawPic:function(){var t=document.getElementById("s-canvas"),e=t.getContext("2d");e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillStyle="rgb(17,53,67)",e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var s=0;s<this.identifyCode.length;s++)this.drawText(e,this.identifyCode[s],s);this.drawLine(e)},drawText:function(t,e,s){t.fillStyle=this.randomColor(this.colorMin,this.colorMax),t.fillStyle="rgb(109,133,140)",t.font="28px SimHei";this.contentWidth,this.identifyCode.length,this.randomNum(this.fontSizeMax,this.contentHeight-5),this.randomNum(-45,45);0===s?(t.translate(0,0),t.fillText(e,10,30)):1===s?t.fillText(e,30,35):2===s?t.fillText(e,50,30):3===s&&t.fillText(e,70,34)},drawLine:function(t){for(var e=0;e<8;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.strokeStyle="rgb(109,133,140)",t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<100;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}}),r=a,l=(s("40c3"),s("2877")),n=Object(l["a"])(r,i,o,!1,null,"7b4ff49e",null);e["default"]=n.exports},"1fe8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAEAklEQVRYhcWYa2wVRRTHfzMLYqq2tLQQJNgUE6haRZFaKWo0PigxaojEJhCNQawoUA1qVVJJlZREAjbgs9VgGhMiRImRD7WR+MEXEiR+QaEYMWClQNXgq9BAd83Zzr13e2/37mzTlv+XezNnzpnf7s6eOWfVqdtmE1MlwDzgJuAKoBi4xIT4BzgCHAC+AtqBX+KEtwVygAeAFcAc8bOM7wG7gdeB7UBflIO2CHoHsB/YClTGgMHMrTS++02sIQNdCDQDnwGlMSDCVGpiNZvYsYCKgC+AmmEASVeNiV1kCyQTvwTKRwAmoXKzRgZUOlAOsBOYMYIwCc0wa+VkA9oEVIwCTEIVZs1BgeQNWDqKMAktDb59OvC7OZuXur4Cp/UjnC3bUddG5y41cxbOu9twWnegbqiMmv6ayXVJoGqTdUOln1gF+ROgcCK6vhF1zaxwmNIydP06mDgJ8gvQK56NAio1iTcJtDzykr3A/wvGoVevRV0+PROmeBq64RUYF0g1585GhjengA9UYrJpVrlvN4HrpqbkXIRuWA+Tp6TGJk9Bv7zBtyXlurhvNdkAyZE0TYCqbI4D77tvcTevBy9wq/LG4zQ2QWERFBTiCGB+QcDJ82G8vbttgIRh3hhgrs1sP/7nn+Lm5qGXPJ4alD310ob+/8G7JTfn/Xfw2nfahhfNFaCr4nh4H2/Dy81DLVyUHFNTizPn7fgA78OtcUKLrpRHNjWul3/lbZ+E2r1dbbitzXHDiop1oLiyl+yNlk3QfSLT5c8/cN/cOHCv2etim3poUOmaWiialGkqmNBvU3HKppS0KTvjOS1egpp/X6hdVd2LfvDRofD8K0C/xvFQdy9AVT80cPD4MbzOIwPnLVyEWlAdF+ioAP1oDXPrnf2PI6jfu+lb/STummcy9pR+eBnq9qo4QD9o0x1Ew8y+EV1bN3Bv/HWKvjVP+1A+WP0qfyzlpNAr61Dlc2yBvtamVYl8JfQjy2HM2NRAz3+4a1+AzqOpsa7fcBvqfFvKUaOXPWUDIwztAnQY+CZy+tgAzLmzuOtexDt0IDPqz4d8G71nbCCCkvPlsPN8yaUydhq4P+v0412osplw5jTuq4143+8Nn3uiC346iLr6OujtxX1jIxzrjAJ6TlqlRKPomL5pONqdoeggUCaNZCIxSke58jzBiGoTXW0wU+8C3jsPMFtMA0k6EKZq2zOKMHvSn0w6UA9wD9AxCjAdZq2ebECibuAWYN8Iwuwza3SnG8JO+5PAzUDLCMC0mG9LJwczZis/JDc9Btw1TI+ww8SSmKFZ06YekjdAylypWSWbxq28xGexiZF8m8I01E96881tl0R6GZBrbH9LCWESnRzabbE+6QH/AxSBBGTSDhQXAAAAAElFTkSuQmCC"},"27f1":function(t,e,s){"use strict";s("8693")},"2d30":function(t,e,s){},"40c3":function(t,e,s){"use strict";s("2d30")},8693:function(t,e,s){},a58f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAADyklEQVRYhcWYWWxMURjHfzPT0ZpuKWpnqrbaBUVriVBreBNLvVnqQXmQkIglEQ+eSNSSIOGtllcJWktSLSVRxF5haC2l0lhaFGlHvnHudGbMvXNvO1P/ZDKZO+d853fvud92bH0rirCoQcB8YDowAnADycpEI1ADPAEqgBLgpRXzcSbHOYBlQCGQA9h0xnVXnwnAKsALVAKHgLNAS6SF7CZg8oCHQDGQawATTjY1p1jZyOsIUAJwFLgEZFmA0FOWsnVU2bYElA5cAwqiABKqAmU73SyQDCwHsmMAoylbrfEPVCiQCzgHDI8hjKbhai2XEdABYEonwGiaotYMCyQesLYTYTStDfQ+e8C35QhpVpOTelOatZSKkSuYmdw/3KyDKtb5gZarqBt1DUtI40hGHu74FNKdLnb3zw23RJYKvH6gDbGA6e1M5HjmPJIdXfzXkhxOveGFGtAgFU2jKoEQGIEK1L66Kr1lJCVlCtACi+kgorra43zbJNsVqGP19znd8FRvujDMF6Bp0YRx2Gzsd8/yvciBOvfpBfvrbkeaPk2y/SijEd3iEliTPoZWvByvf8DXlp+GFnf2y2F2ysCgazeb6tj2utyX+iNopAANMBpTlDGb7MS/d5uX6maNp4R3v5rCji3oOZaV3YPz8LPmTxS+usJvb2tkHHDbA4qrsBrnaks3mfGpnB6ymKEh74ZoSdpgNveZFHTt/e9vrPOU0tjyywyMKCliPVTy+VXQ715OF8VDFjExsZf/2tSkPuwdMCPIMwRCYATKiuyq7NTV9tcVlH4JhkpxxHMicwFzU90+TzqUMQenre3eZHtkm2S7LKpJauq7wHijeeI5O/pOJb9HcDBv8Xp9L3laXFu9JS/ultoyn1e1Q/fkth5HmicL735bSdH7O/+ABsKIxLXbCSN6ZFfdgSkd/nCPXW+u+wDD6VTDU1/w64Cu21WrYiJE/NWZhmo21VyluTW4gTj/+SV73lZ2BEYYSgTIA9ywMvPylxpWey76g6QEvq21ZbpPzqTkbjyaaxy2Orvq2wfyn5+nvPGNlcBnJOnd0DpXh+qbotHutEeScUeL/2hPSF6Ijf8JRrRJ62oDI/Vl4OR/gDmhGkhCgVBV261OhLkVujOhQN8lTwLVnQBTrdb6bgQk+gjMFEeKIUyVWuNj6B962b4emCFVZwxgjqmzpfpwfxqVHz+A9cC8KG1htbIlNpv1Bpk5HxIPkDI3X0VTq+FY5sjhldjwe5OezJ6gSYw4pT7SNi1Uj10CqRTQKWrcV6BWBTpJ2hcsHekBfwDEAQcDuAyvewAAAABJRU5ErkJggg=="},a9e3:function(t,e,s){"use strict";var i=s("83ab"),o=s("da84"),a=s("94ca"),r=s("6eeb"),l=s("5135"),n=s("c6b6"),d=s("7156"),c=s("c04e"),u=s("d039"),p=s("7c73"),f=s("241c").f,m=s("06cf").f,h=s("9bf2").f,g=s("58a8").trim,w="Number",b=o[w],v=b.prototype,y=n(p(v))==w,C=function(t){var e,s,i,o,a,r,l,n,d=c(t,!1);if("string"==typeof d&&d.length>2)if(d=g(d),e=d.charCodeAt(0),43===e||45===e){if(s=d.charCodeAt(2),88===s||120===s)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+d}for(a=d.slice(2),r=a.length,l=0;l<r;l++)if(n=a.charCodeAt(l),n<48||n>o)return NaN;return parseInt(a,i)}return+d};if(a(w,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var A,x=function(t){var e=arguments.length<1?0:t,s=this;return s instanceof x&&(y?u((function(){v.valueOf.call(s)})):n(s)!=w)?d(new b(C(e)),s,x):C(e)},F=i?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;F.length>S;S++)l(b,A=F[S])&&!l(x,A)&&h(x,A,m(b,A));x.prototype=v,v.constructor=x,r(o,w,x)}},aab4:function(t,e,s){},c91e:function(t,e,s){"use strict";(function(t){s("d3b7"),s("25f0");var i=s("b775"),o=s("61f7"),a=s("8429"),r=s.n(a),l=s("4a23");e["a"]={name:"editpw",mounted:function(){window.addEventListener("keydown",this.keyDown)},data:function(){var t=this,e=function(e,s,i){t.ruleForm.newPassword!==t.ruleForm.password2?i(new Error("两次输入密码不一致!")):i()},s=function(t,e,s){var i=/^(?![A-Za-z]+$)(?![A-Z0-9]+$)(?![a-z0-9]+$)(?![a-z\W]+$)(?![A-Z\W]+$)(?![0-9\W]+$)[a-zA-Z0-9\W]{8,16}$/;e.length<8||e.length>16?s(new Error("密码长度必须是8到16之间")):i.test(e)?s():s(new Error("密码包含数字、大写字母、小写字母、特殊符号中任意三项"))};return{btnvalue1:!1,dialogFormVisible:!1,labelPosition:"right",password0:"password",password1:"password",password2:"password",rules:{oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"},{trigger:"blur",validator:s}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{trigger:"blur",validator:o["a"]}],password2:[{required:!0,validator:e,trigger:"blur"}]},ruleForm:{oldPassword:"",newPassword:"",password2:""},userId:""}},methods:{diaOpen:function(){var t=this;t.dialogFormVisible=!0,t.btnvalue1=!1,t.password0="password",t.password1="password",t.password2="password",t.ruleForm.oldPassword="",t.ruleForm.newPassword="",t.ruleForm.password2="",t.$nextTick((function(){t.$refs.ruleForm.clearValidate()})),t.userId=localStorage.getItem("usershowName")},diaClose:function(){var t=this;t.dialogFormVisible=!1,t.$emit("diaVisible")},pwex0:function(){var t=this;"password"===t.password0?t.password0="text":t.password0="password"},pwex1:function(){var t=this;"password"===t.password1?t.password1="text":t.password1="password"},pwex2:function(){var t=this;"password"===t.password2?t.password2="text":t.password2="password"},submitForm:function(e){var s=this,o=[90,71,73,121,77,84,77,53,78,84,89,120,89,122,108,109,90,84,65,50,79,65,61,61],a=r.a.enc.Base64.parse(t.from(o).toString()),n=r.a.enc.Base64.parse(t.from(o).toString()),d=new FormData;d.append("oldPassword",Object(l["a"])(this.ruleForm.oldPassword,a,n)),d.append("newPassword",Object(l["a"])(this.ruleForm.newPassword,a,n)),s.$refs[e].validate((function(t){if(!t)return s.btnvalue1=!1,!1;s.btnvalue1=!0,Object(i["a"])({url:"/sys/updatePassword",data:{userId:s.userId,oldPassWord:d.get("oldPassword"),newPassWord:d.get("newPassword")},method:"post"}).then((function(t){var e=t.data;0===e.status?(s.$message({message:"操作成功!",type:"success",duration:0,showClose:!0}),s.dialogFormVisible=!1,s.$emit("successup")):s.btnvalue1=!1}))}))},resetForm:function(t){var e=this;e.$refs[t].resetFields()},keyDown:function(t){13==t.keyCode&&1==this.dialogFormVisible&&this.submitForm("ruleForm")}}}}).call(this,s("b639").Buffer)},cb29:function(t,e,s){var i=s("23e7"),o=s("81d5"),a=s("44d2");i({target:"Array",proto:!0},{fill:o}),a("fill")},cd71:function(t,e,s){"use strict";s("aab4")},ede4:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main"},[i("div",{staticClass:"loginContainer"},[i("div",{staticClass:"title"},[i("img",{attrs:{src:t.publicPath+"login_logo.png"}}),i("div",[t._v(t._s(t.title1))]),i("div",[t._v(t._s(t.title2))])]),i("div",{staticClass:"formContainer"},[i("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.ruleForm,rules:t.rules},nativeOn:{submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{prop:"userName"}},[i("div",{staticClass:"label"},[t._v("用户名")]),i("el-input",{staticClass:"inputStyle",attrs:{type:"text",placeholder:"请输入用户名"},model:{value:t.ruleForm.userName,callback:function(e){t.$set(t.ruleForm,"userName",e)},expression:"ruleForm.userName"}})],1),i("el-form-item",{attrs:{prop:"passWord"}},[i("div",{staticClass:"label"},[t._v("密码")]),i("el-input",{class:["password"==this.inputType?"inputStyle spacing":"inputStyle"],attrs:{type:t.inputType,placeholder:"请输入密码"},on:{change:t.getFocus,blur:t.onblur},nativeOn:{"!paste":function(e){return e.preventDefault(),t.handlePaste(e)},keyup:function(e){return t.checkCapslock(e)}},model:{value:t.ruleForm.passWord,callback:function(e){t.$set(t.ruleForm,"passWord",e)},expression:"ruleForm.passWord"}},["password"==this.inputType?i("i",{attrs:{slot:"suffix"},on:{click:t.showPassword},slot:"suffix"},[i("img",{attrs:{src:s("a498")}})]):t._e(),"text"==this.inputType?i("i",{attrs:{slot:"suffix"},on:{click:t.showPassword},slot:"suffix"},[i("img",{attrs:{src:s("235b")}})]):t._e()]),t.isPaste?i("div",{attrs:{id:"parseforbid"}},[t._v("禁止粘贴")]):t._e(),t.capsTooltip?i("div",{attrs:{id:"lock"}},[t._v("大写锁定已开启")]):t._e()],1),i("el-form-item",{attrs:{prop:"code"}},[i("div",{staticClass:"label"},[t._v("验证码")]),i("el-input",{staticClass:"inputStyle",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:t.ruleForm.code,callback:function(e){t.$set(t.ruleForm,"code",e)},expression:"ruleForm.code"}}),i("div",{on:{click:t.getCaptchaCode}},[i("s-identify",{attrs:{identifyCode:t.identifyCode}})],1)],1),i("el-button",{staticClass:"btn",on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("登 录")])],1)],1)]),i("el-dialog",{attrs:{title:"温馨提示",visible:t.dialogVisible,width:"30%",top:"30vh"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticStyle:{"text-align":"center","font-size":"20px",margin:"20px 0",color:"#000"}},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("1fe8"),alt:""}}),t._v(" 您的密码"),i("span",{staticStyle:{color:"#ff0000"}},[t._v("已到期")]),t._v(" ，必须重新修改密码!")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.beforeEditPwd}},[t._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"温馨提示",visible:t.dialogVisible1,width:"30%",top:"30vh"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[i("div",{staticStyle:{"text-align":"center","font-size":"20px",margin:"20px 0",color:"#000"}},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("a58f"),alt:""}}),t._v(" 密码修改成功，请重新"),i("span",{staticStyle:{color:"#1ac492"}},[t._v("登录")]),t._v("!")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),i("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.afterEditPwd}},[t._v("确 定")])],1)]),i("change-pwd",{ref:"edit",on:{successup:t.successup,diaVisible:t.diaVisible}})],1)},o=[],a=(s("ac1f"),s("1276"),s("a15b"),s("d3b7"),s("25f0"),s("0187")),r=s("48ae"),l=s("b775"),n=(s("5f87"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"重置密码",top:"30vh",width:"30%",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.diaClose}},[i("el-form",{ref:"ruleForm",attrs:{"label-position":t.labelPosition,"label-width":"100px",rules:t.rules,model:t.ruleForm,size:"small"}},[i("el-form-item",{attrs:{prop:"userId",label:"用户名："}},[i("el-input",{staticStyle:{width:"90%"},attrs:{disabled:""},model:{value:t.userId,callback:function(e){t.userId=e},expression:"userId"}})],1),i("el-form-item",{attrs:{prop:"oldPassword",label:"原密码："}},[i("el-input",{staticStyle:{width:"90%"},attrs:{id:"old_password",clearable:"",placeholder:"请输入原密码",type:t.password0},model:{value:t.ruleForm.oldPassword,callback:function(e){t.$set(t.ruleForm,"oldPassword",e)},expression:"ruleForm.oldPassword"}},["password"==this.password0?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex0},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("a498")}})]):t._e(),"text"==this.password0?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex0},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("235b")}})]):t._e()])],1),i("el-form-item",{attrs:{prop:"newPassword",label:"新密码："}},[i("el-input",{staticStyle:{width:"90%"},attrs:{id:"new_password",clearable:"",placeholder:"请输入包含数字、字母、特殊符号8至16位的新密码",type:t.password1},model:{value:t.ruleForm.newPassword,callback:function(e){t.$set(t.ruleForm,"newPassword",e)},expression:"ruleForm.newPassword"}},["password"==this.password1?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex1},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("a498")}})]):t._e(),"text"==this.password1?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex1},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("235b")}})]):t._e()])],1),i("el-form-item",{attrs:{prop:"password2",label:"确认密码："}},[i("el-input",{staticStyle:{width:"90%"},attrs:{id:"confirm_password",clearable:"",placeholder:"请输入确认密码",type:t.password2},model:{value:t.ruleForm.password2,callback:function(e){t.$set(t.ruleForm,"password2",e)},expression:"ruleForm.password2"}},["password"==this.password2?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex2},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("a498")}})]):t._e(),"text"==this.password2?i("i",{attrs:{slot:"suffix"},on:{click:t.pwex2},slot:"suffix"},[i("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:s("235b")}})]):t._e()])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"canBtn",attrs:{size:"small"},on:{click:t.diaClose}},[t._v("取 消")]),i("el-button",{staticClass:"sureBtn",attrs:{size:"small",disabled:t.btnvalue1},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确定")])],1)],1)}),d=[],c=s("c91e"),u=c["a"],p=(s("cd71"),s("2877")),f=Object(p["a"])(u,n,d,!1,null,null,null),m=f.exports,h={name:"Login",components:{SIdentify:a["default"],global:r["a"],ChangePwd:m},created:function(){this.title1=loginTitle,this.title2=loginTitle2},mounted:function(){this.getCaptchaCode(),window.addEventListener("keydown",this.keyDown)},data:function(){var t=this,e=function(e,s,i){""===s?i(new Error("请输入验证码")):s!==t.identifyCode?i(new Error("验证码输入错误")):i()};return{publicPath:"/",dialogVisible:!1,dialogVisible1:!1,changePage:!1,title1:"",title2:"",isPaste:!1,capsTooltip:!1,inputType:"password",identifyCode:"",ruleForm:{userName:"",passWord:"",code:""},rules:{userName:[{required:!0,message:"请输入账号",trigger:"blur"}],passWord:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,validator:e,trigger:"blur"}]},passwordCode:"",cId:""}},methods:{getCaptchaCode:function(){var t=this;Object(l["a"])({url:"/getCaptchaCode",method:"post"}).then((function(e){var s=e.data;t.identifyCode=s.code,t.cId=s.cId}))},submitForm:function(t){var e=this;this.randomNumber(this.ruleForm.passWord);var s={userName:this.ruleForm.userName,passWord:this.passwordCode,code:this.ruleForm.code,cId:this.cId};this.$refs.ruleForm.validate((function(t){if(!t)return e.getCaptchaCode(),!1;e.$store.dispatch("Login",s).then((function(t){500==t.status||888==t.status||888==t.status?e.getCaptchaCode():999==t.status?e.dialogVisible=!0:(localStorage.setItem("loginremind",""),sessionStorage.setItem("currentTime",(new Date).getTime()),localStorage.setItem("tokenrole",t.userType),localStorage.setItem("userId",t.userID),localStorage.setItem("loginnum",1),localStorage.setItem("userType",t.userType),localStorage.setItem("licenseDeadline",t.licenseDeadline),localStorage.setItem("node_num",t.node_num),sessionStorage.setItem("sessionId",t.sessionId),r["a"].userId=t.userID,e.$message({message:"登录成功",type:"success",showClose:!0}),"audit"==t.userType?e.$router.push({path:"/auditManage/TerminalAudit/DynamicMeasureLog"}).catch((function(t){})):e.$router.push({path:"/assetManage/TerminalManage/TerminalManage"}).catch((function(t){})))}))}))},randomNumber:function(t){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s="",i=0;i<t.length;i++){var o=Math.floor(16*Math.random());s+=e[o]}var a=t.split(""),r=s.split("");for(i=0;i<t.length;i++)a[i]+=r[i];var l=a.join("");this.stringToHex(l)},stringToHex:function(t){for(var e="",s=0;s<t.length;s++)""==e?e=t.charCodeAt(s).toString(16):e+=t.charCodeAt(s).toString(16);this.passwordCode=e},beforeEditPwd:function(){this.dialogVisible=!1,this.$refs.edit.diaOpen(),this.changePage=!0},diaVisible:function(){this.changePage=!1},successup:function(){this.dialogVisible1=!0,this.changePage=!1},afterEditPwd:function(){this.dialogVisible1=!1,this.$router.go(0)},showPassword:function(){this.inputType="password"===this.inputType?"text":"password"},getFocus:function(){this.isPaste=!1},handlePaste:function(){this.isPaste=!0},onblur:function(){this.isPaste=!1,this.capsTooltip=!1},checkCapslock:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.shiftKey,s=t.key;s&&1===s.length&&(this.capsTooltip=!!(e&&s>="a"&&s<="z"||!e&&s>="A"&&s<="Z")),"CapsLock"===s&&!0===this.capsTooltip&&(this.capsTooltip=!1)},keyDown:function(t){13==t.keyCode&&0==this.changePage&&0==this.dialogVisible&&0==this.dialogVisible1&&this.submitForm("ruleForm")}}},g=h,w=(s("27f1"),Object(p["a"])(g,i,o,!1,null,"44d9d591",null));e["default"]=w.exports}}]);
//# sourceMappingURL=chunk-236afa9b.2a862199.js.map