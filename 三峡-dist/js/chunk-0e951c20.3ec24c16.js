(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e951c20"],{"0047":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"topNav"},[a("el-breadcrumb",{staticClass:"breadNav",attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"crumb1"},[e._v("首页")]),a("el-breadcrumb-item",{staticClass:"crumb1"},[e._v("平台管理")]),a("el-breadcrumb-item",{staticClass:"crumb2"},[e._v("全局策略")])],1)],1),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("el-form",{ref:"formInline",staticClass:"formInline",attrs:{inline:!0,"label-position":"right","label-width":"90px",model:e.formInline,size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"终端名称/网络地址：",prop:"terminalName","label-width":"145px"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入终端名称/网络地址",oninput:"value=value.replace(/[%]/g, '')"},model:{value:e.formInline.terminalName,callback:function(t){e.$set(e.formInline,"terminalName",t)},expression:"formInline.terminalName"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.advancedSearch,expression:"advancedSearch==true"}],attrs:{label:"系统类型：",prop:"systemType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.formInline.systemType,callback:function(t){e.$set(e.formInline,"systemType",t)},expression:"formInline.systemType"}},[a("el-option",{attrs:{label:"所有系统",value:"0"}}),a("el-option",{attrs:{label:"Linux系统",value:"1"}}),a("el-option",{attrs:{label:"Windows系统",value:"2"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.advancedSearch,expression:"advancedSearch==true"}],attrs:{label:"日期：",prop:"startDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",editable:!1,type:"date",placeholder:"选择开始时间"},model:{value:e.formInline.startDate,callback:function(t){e.$set(e.formInline,"startDate",t)},expression:"formInline.startDate"}}),e._v(" "),a("span",{},[e._v("至")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",editable:!1,type:"date",placeholder:"选择结束时间"},model:{value:e.formInline.endDate,callback:function(t){e.$set(e.formInline,"endDate",t)},expression:"formInline.endDate"}})],1),a("el-form-item",{staticClass:"advancedBtn"},[a("el-button",{staticClass:"resetBtn",attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")]),a("el-button",{staticClass:"searchBtn",attrs:{size:"small"},on:{click:e.searchData}},[e._v("查询")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.advancedFlag,expression:"advancedFlag==true"}],staticClass:"gaoji",attrs:{size:"small"},on:{click:e.switchBtn}},[e._v("展开"),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"font-weight":"bold"}})]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.advancedFlag,expression:"advancedFlag==false"}],staticClass:"gaoji",attrs:{size:"small"},on:{click:e.switchBtn}},[e._v("收起"),a("i",{staticClass:"el-icon-arrow-up el-icon--right",staticStyle:{"font-weight":"bold"}})])],1)],1)],1),a("div",{staticClass:"mainContainer"},[a("div",{staticClass:"tableTitle"},[e._v("全局策略")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"strategyTable",staticStyle:{width:"99.9%","font-size":"14px"},attrs:{data:e.strategyData,size:"small","tooltip-effect":"light","element-loading-text":"加载中，请稍后","header-cell-style":{height:"48px","background-color":"#F0F2F5",color:"rgba(0, 0, 0, 0.72)",padding:"0px"},"cell-style":{padding:"0px",color:"rgba(0, 0, 0, 0.9)"},fit:!0},on:{"sort-change":e.sortChange}},[a("template",{slot:"empty"},[a("div",[e._v("暂无数据")])]),a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"50px"}}),a("el-table-column",{attrs:{prop:"name",label:"终端名称","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ip",label:"网络地址","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#1ac492",cursor:"pointer"},on:{click:function(o){return e.openDialog(t.row)}}},[e._v(e._s(t.row.ip))])]}}])}),a("el-table-column",{attrs:{prop:"onlineStatus",label:"终端状态","min-width":"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.onlineStatus?a("span",[a("span",{staticClass:"aqua"},[e._v("●")]),e._v("在线")]):"0"==t.row.onlineStatus?a("span",[a("span",{staticClass:"lightRed"},[e._v("●")]),e._v("离线")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"system",label:"操作系统","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return["Linux"==t.row.system||"linux"==t.row.system?a("span",[a("img",{attrs:{src:o("d521")}}),a("span",{staticStyle:{"padding-left":"10px"}},[e._v(e._s(t.row.system))])]):t.row.system.indexOf("win")?a("span",[a("img",{attrs:{src:o("4406")}}),a("span",[e._v(e._s(t.row.system))])]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"be_boot_measure_on",label:"启动度量"},scopedSlots:e._u([{key:"default",fn:function(t){return["Linux"!=t.row.system&&"linux"!=t.row.system||"0"!=t.row.be_boot_measure_on?"Linux"!=t.row.system&&"linux"!=t.row.system||"1"!=t.row.be_boot_measure_on?t.row.system.indexOf("win")?a("span"):e._e():a("span",[e._v("开启")]):a("span",[e._v("关闭")])]}}])}),a("el-table-column",{attrs:{prop:"be_boot_control",label:"启动度量控制"},scopedSlots:e._u([{key:"default",fn:function(t){return["Linux"!=t.row.system&&"linux"!=t.row.system||"0"!=t.row.be_boot_control?"Linux"!=t.row.system&&"linux"!=t.row.system||"1"!=t.row.be_boot_control?t.row.system.indexOf("win")?a("span"):e._e():a("span",[e._v("开启")]):a("span",[e._v("关闭")])]}}])}),a("el-table-column",{attrs:{prop:"be_dynamic_measure_on",label:"动态度量"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.be_dynamic_measure_on?a("span",[e._v("关闭")]):"1"==t.row.be_dynamic_measure_on?a("span",[e._v("开启")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"be_program_control",label:"白名单控制"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.be_program_control?a("span",[e._v("关闭")]):"1"==t.row.be_program_control?a("span",[e._v("开启")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"protect_module",label:"模块防卸载"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.protect_module?a("span",[e._v("关闭")]):"1"==t.row.protect_module?a("span",[e._v("开启")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"protect_process",label:"进程防杀"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.protect_process?a("span",[e._v("关闭")]):"1"==t.row.protect_process?a("span",[e._v("开启")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"funcSwitchStatus",label:"策略状态",formatter:e.statusVal}}),a("el-table-column",{attrs:{prop:"funcSwitchDate","show-overflow-tooltip":!0,"min-width":"90%",label:"创建时间",sortable:"custom"}}),a("el-table-column",{attrs:{label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.onlineStatus?a("el-button",{staticStyle:{color:"#D9D9D9"},attrs:{type:"text"},on:{click:function(o){return e.openConfig(t.row)}}},[e._v("配置")]):a("el-button",{staticStyle:{color:"#1ac492"},attrs:{type:"text"},on:{click:function(o){return e.openConfig(t.row)}}},[e._v("配置")])]}}])})],2),e.pageShow?a("el-pagination",{staticClass:"paging",attrs:{align:"right","current-page":e.currentPage.sync,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])]),1==e.showDialog?a("div",{staticClass:"dialogContent"},[a("strategy-details",{ref:"details",attrs:{rowMessage:e.rowMessage},on:{closeDialog:e.closeDialog}})],1):e._e(),1==e.mask?a("div",{staticClass:"mask",on:{click:e.closeDialog}}):e._e(),a("configure",{ref:"poplay",on:{initTable:e.initData}}),a("config-win",{ref:"windows",on:{initTable:e.initData}})],1)},r=[],s=(o("d81d"),o("ac1f"),o("5319"),o("b775")),l=o("ac95"),i=o("b893"),n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"全局策略",width:"20%",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.diaClose}},[o("el-form",{ref:"ruleForm",staticClass:"form",attrs:{"label-position":e.labelPosition,"label-width":"120px",rules:e.rules,model:e.ruleForm}},[o("el-form-item",{attrs:{prop:"ip",label:"网络地址："}},[o("el-input",{staticStyle:{width:"80%"},attrs:{clearable:"",disabled:""},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}},[e._v(e._s(e.ip))])],1),o("el-form-item",{attrs:{prop:"be_boot_measure_on",label:"启动度量："}},[o("el-switch",{attrs:{"active-text":e.activeText1,"active-value":1,"inactive-value":0},on:{change:e.switchChange1},model:{value:e.ruleForm.be_boot_measure_on,callback:function(t){e.$set(e.ruleForm,"be_boot_measure_on",t)},expression:"ruleForm.be_boot_measure_on"}})],1),o("el-form-item",{attrs:{prop:"be_boot_control",label:"启动度量控制："}},[o("el-switch",{attrs:{"active-text":e.activeText2,"active-value":1,"inactive-value":0},on:{change:e.switchChange2},model:{value:e.ruleForm.be_boot_control,callback:function(t){e.$set(e.ruleForm,"be_boot_control",t)},expression:"ruleForm.be_boot_control"}})],1),o("el-form-item",{attrs:{prop:"be_dynamic_measure_on",label:"动态度量："}},[o("el-switch",{attrs:{"active-text":e.activeText3,"active-value":1,"inactive-value":0},on:{change:e.switchChange3},model:{value:e.ruleForm.be_dynamic_measure_on,callback:function(t){e.$set(e.ruleForm,"be_dynamic_measure_on",t)},expression:"ruleForm.be_dynamic_measure_on"}})],1),o("el-form-item",{attrs:{prop:"be_program_control",label:"白名单控制："}},[o("el-switch",{attrs:{"active-text":e.activeText4,"active-value":1,"inactive-value":0},on:{change:e.switchChange4},model:{value:e.ruleForm.be_program_control,callback:function(t){e.$set(e.ruleForm,"be_program_control",t)},expression:"ruleForm.be_program_control"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"canBtn",attrs:{size:"small"},on:{click:e.diaClose}},[e._v("取消")]),o("el-button",{staticClass:"sureBtn",attrs:{size:"small",disabled:e.btnvalue1},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1)},c=[],m={name:"Configure",data:function(){return{activeText1:"",activeText2:"",activeText3:"",activeText4:"",btnvalue1:!1,dialogFormVisible:!1,labelPosition:"right",rules:{},ruleForm:{be_boot_measure_on:0,be_boot_control:0,be_dynamic_measure_on:0,be_program_control:0},nodeId:"",ip:""}},methods:{diaOpen:function(e){var t=this;t.dialogFormVisible=!0,t.btnvalue1=!1,t.ip=e.ip,t.nodeId=e.nodeId,Object(s["a"])({url:"/sys/searchFuncWwitch?node_id="+e.nodeId,method:"post"}).then((function(e){var o=e.data;0===o.status&&(o.object?(t.ruleForm.be_boot_measure_on=o.object.be_boot_measure_on,t.ruleForm.be_boot_control=o.object.be_boot_control,t.ruleForm.be_dynamic_measure_on=o.object.be_dynamic_measure_on,t.ruleForm.be_program_control=o.object.be_program_control):(t.ruleForm.be_boot_measure_on=0,t.ruleForm.be_boot_control=0,t.ruleForm.be_dynamic_measure_on=0,t.ruleForm.be_program_control=0),0==t.ruleForm.be_boot_measure_on?t.activeText1="关闭":1==t.ruleForm.be_boot_measure_on&&(t.activeText1="开启"),0==t.ruleForm.be_boot_control?t.activeText2="关闭":1==t.ruleForm.be_boot_control&&(t.activeText2="开启"),0==t.ruleForm.be_dynamic_measure_on?t.activeText3="关闭":1==t.ruleForm.be_dynamic_measure_on&&(t.activeText3="开启"),0==t.ruleForm.be_dynamic_measure_on?t.activeText4="关闭":1==t.ruleForm.be_dynamic_measure_on&&(t.activeText4="开启"))})),t.$nextTick((function(){t.$refs.ruleForm.clearValidate()}))},diaClose:function(){this.dialogFormVisible=!1},submitForm:function(e){var t=this;t.$refs[e].validate((function(e){e&&Object(s["a"])({url:"/sys/createFuncWwitch",method:"post",data:{node_id:t.nodeId,be_boot_measure_on:t.ruleForm.be_boot_measure_on,be_boot_control:t.ruleForm.be_boot_control,be_dynamic_measure_on:t.ruleForm.be_dynamic_measure_on,be_program_control:t.ruleForm.be_program_control}}).then((function(e){var o=e.data;0===o.status?(t.$message({message:"操作成功!",type:"success",showClose:!0}),t.dialogFormVisible=!1,t.$emit("initTable")):t.btnvalue1=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},switchChange1:function(e){0==e?this.activeText1="关闭":1==e&&(this.activeText1="开启")},switchChange2:function(e){0==e?this.activeText2="关闭":1==e&&(this.activeText2="开启")},switchChange3:function(e){0==e?this.activeText3="关闭":1==e&&(this.activeText3="开启")},switchChange4:function(e){0==e?this.activeText4="关闭":1==e&&(this.activeText4="开启")}}},_=m,u=(o("fe67"),o("2877")),b=Object(u["a"])(_,n,c,!1,null,"ee9a6554",null),d=b.exports,p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"全局策略",top:"10vh",width:"20%",visible:e.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.diaClose}},[o("el-form",{ref:"ruleForm",staticClass:"form",attrs:{"label-position":e.labelPosition,"label-width":"120px",rules:e.rules,model:e.ruleForm}},[o("el-form-item",{attrs:{prop:"ip",label:"网络地址："}},[o("el-input",{staticStyle:{width:"80%"},attrs:{clearable:"",disabled:""},model:{value:e.ip,callback:function(t){e.ip=t},expression:"ip"}},[e._v(e._s(e.ip))])],1),o("el-form-item",{attrs:{prop:"be_boot_measure_on",label:"启动度量：",hidden:e.winDisable}},[o("el-switch",{attrs:{"active-text":e.activeText1,"active-value":1,"inactive-value":0},on:{change:e.switchChange1},model:{value:e.ruleForm.be_boot_measure_on,callback:function(t){e.$set(e.ruleForm,"be_boot_measure_on",t)},expression:"ruleForm.be_boot_measure_on"}})],1),o("el-form-item",{attrs:{prop:"be_boot_control",label:"启动度量控制：",hidden:e.winDisable}},[o("el-switch",{attrs:{"active-text":e.activeText2,"active-value":1,"inactive-value":0},on:{change:e.switchChange2},model:{value:e.ruleForm.be_boot_control,callback:function(t){e.$set(e.ruleForm,"be_boot_control",t)},expression:"ruleForm.be_boot_control"}})],1),o("el-form-item",{attrs:{prop:"be_dynamic_measure_on",label:"动态度量："}},[o("el-switch",{attrs:{"active-text":e.activeText3,"active-value":1,"inactive-value":0},on:{change:e.switchChange3},model:{value:e.ruleForm.be_dynamic_measure_on,callback:function(t){e.$set(e.ruleForm,"be_dynamic_measure_on",t)},expression:"ruleForm.be_dynamic_measure_on"}})],1),o("el-form-item",{attrs:{prop:"be_program_control",label:"白名单控制："}},[o("el-switch",{attrs:{"active-text":e.activeText4,"active-value":1,"inactive-value":0},on:{change:e.switchChange4},model:{value:e.ruleForm.be_program_control,callback:function(t){e.$set(e.ruleForm,"be_program_control",t)},expression:"ruleForm.be_program_control"}})],1),o("el-form-item",{attrs:{prop:"protect_module",label:"模块防卸载："}},[o("el-switch",{attrs:{"active-text":e.activeText5,"active-value":1,"inactive-value":0},on:{change:e.switchChange5},model:{value:e.ruleForm.protect_module,callback:function(t){e.$set(e.ruleForm,"protect_module",t)},expression:"ruleForm.protect_module"}})],1),o("el-form-item",{attrs:{prop:"protect_process",label:"进程防杀："}},[o("el-switch",{attrs:{"active-text":e.activeText6,"active-value":1,"inactive-value":0},on:{change:e.switchChange6},model:{value:e.ruleForm.protect_process,callback:function(t){e.$set(e.ruleForm,"protect_process",t)},expression:"ruleForm.protect_process"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{staticClass:"canBtn",attrs:{size:"small"},on:{click:e.diaClose}},[e._v("取消")]),o("el-button",{staticClass:"sureBtn",attrs:{size:"small",disabled:e.btnvalue1},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")])],1)],1)},v=[],h={name:"Configure",data:function(){return{activeText1:"",activeText2:"",activeText3:"",activeText4:"",activeText5:"",activeText6:"",activeText7:"",btnvalue1:!1,dialogFormVisible:!1,labelPosition:"right",rules:{},ruleForm:{be_boot_measure_on:0,be_boot_control:0,be_dynamic_measure_on:0,be_program_control:0,protect_module:0,protect_process:0,be_program_measure_on:1},winDisable:!1,linuxDisable:!1,nodeId:"",ip:""}},methods:{diaOpen:function(e){var t=this;t.dialogFormVisible=!0,t.btnvalue1=!1,t.ip=e.ip,t.nodeId=e.nodeId,"linux"==e.system||"Linux"==e.system?(t.winDisable=!1,t.linuxDisable=!0):(t.winDisable=!0,t.linuxDisable=!1),Object(s["a"])({url:"/sys/searchFuncWwitch?node_id="+e.nodeId,method:"post"}).then((function(o){var a=o.data;0===a.status&&(a.object?(t.ruleForm.be_boot_measure_on=a.object.be_boot_measure_on,t.ruleForm.be_boot_control=a.object.be_boot_control,t.ruleForm.be_dynamic_measure_on=a.object.be_dynamic_measure_on,t.ruleForm.be_program_control=a.object.be_program_control,t.ruleForm.protect_module=a.object.protect_module,t.ruleForm.protect_process=a.object.protect_process,t.ruleForm.be_program_measure_on=a.object.be_program_measure_on,null==t.ruleForm.protect_module&&e.system.indexOf("win")&&(t.ruleForm.protect_module=1),null==t.ruleForm.protect_process&&e.system.indexOf("win")&&(t.ruleForm.protect_process=1)):(t.ruleForm.be_boot_measure_on=0,t.ruleForm.be_boot_control=0,t.ruleForm.be_dynamic_measure_on=0,t.ruleForm.be_program_control=0,t.ruleForm.be_program_measure_on=1,"linux"==e.system||"Linux"==e.system?(t.ruleForm.protect_module=0,t.ruleForm.protect_process=0):(t.ruleForm.protect_module=1,t.ruleForm.protect_process=1)),0==t.ruleForm.be_boot_measure_on?t.activeText1="关闭":1==t.ruleForm.be_boot_measure_on&&(t.activeText1="开启"),0==t.ruleForm.be_boot_control?t.activeText2="关闭":1==t.ruleForm.be_boot_control&&(t.activeText2="开启"),0==t.ruleForm.be_dynamic_measure_on?t.activeText3="关闭":1==t.ruleForm.be_dynamic_measure_on&&(t.activeText3="开启"),0==t.ruleForm.be_program_control?t.activeText4="关闭":1==t.ruleForm.be_program_control&&(t.activeText4="开启"),0==t.ruleForm.protect_module?t.activeText5="关闭":1==t.ruleForm.protect_module?t.activeText5="开启":t.activeText5="关闭",0==t.ruleForm.protect_process?t.activeText6="关闭":1==t.ruleForm.protect_process?t.activeText6="开启":t.activeText6="关闭",0==t.ruleForm.be_program_measure_on?t.activeText7="关闭":1==t.ruleForm.be_program_measure_on&&(t.activeText7="开启"))})),t.$nextTick((function(){t.$refs.ruleForm.clearValidate()}))},diaClose:function(){this.dialogFormVisible=!1},submitForm:function(e){var t=this;t.$refs[e].validate((function(e){e&&Object(s["a"])({url:"/sys/createFuncWwitch",method:"post",data:{node_id:t.nodeId,be_boot_measure_on:t.ruleForm.be_boot_measure_on,be_boot_control:t.ruleForm.be_boot_control,be_dynamic_measure_on:t.ruleForm.be_dynamic_measure_on,be_program_control:t.ruleForm.be_program_control,protect_module:t.ruleForm.protect_module,protect_process:t.ruleForm.protect_process,be_program_measure_on:1}}).then((function(e){var o=e.data;0===o.status&&(t.$message({message:"操作成功!",type:"success",showClose:!0}),t.dialogFormVisible=!1,t.$emit("initTable"))}))}))},resetForm:function(e){this.$refs[e].resetFields()},switchChange1:function(e){0==e?this.activeText1="关闭":1==e&&(this.activeText1="开启")},switchChange2:function(e){0==e?this.activeText2="关闭":1==e&&(this.activeText2="开启")},switchChange3:function(e){0==e?this.activeText3="关闭":1==e&&(this.activeText3="开启")},switchChange4:function(e){0==e?this.activeText4="关闭":1==e&&(this.activeText4="开启")},switchChange5:function(e){0==e?this.activeText5="关闭":1==e&&(this.activeText5="开启")},switchChange6:function(e){0==e?this.activeText6="关闭":1==e&&(this.activeText6="开启")},switchChange7:function(e){0==e?this.activeText7="关闭":1==e&&(this.activeText7="开启")}}},f=h,g=(o("8283"),Object(u["a"])(f,p,v,!1,null,"84336082",null)),w=g.exports,y=o("3e4b"),x={name:"GlobalStrategy",components:{Configure:d,ConfigWin:w,StrategyDetails:y["a"]},data:function(){return{loading:!1,formInline:{terminalName:"",startDate:"",endDate:"",systemType:""},advancedSearch:!0,advancedFlag:!1,emptytxt:"",strategyData:[],orderBy:"",currentPage:1,total:0,pageSize:10,pageShow:!0,autorefresh:"",showDialog:!1,mask:!1,rowMessage:{}}},created:function(){Object(i["b"])(this.searchData)},mounted:function(){this.loadData()},beforeDestroy:function(){document.onkeydown=null},methods:{loadData:function(){var e=this;this.loading=!0,Object(s["a"])({url:"/sys/lGlobalPolicyList",method:"post",data:{condition:this.formInline.terminalName,firstTime:this.formInline.startDate,lastTime:this.formInline.endDate,orderBy:this.orderBy,system_type:this.formInline.systemType,searchPage:this.currentPage,searchSize:this.pageSize}}).then((function(t){var o=t.data;e.loading=!1,o.list&&(o.list.map((function(e,t){e.funcSwitchDate=Object(l["a"])(e.funcSwitchDate)})),e.total=o.total,e.strategyData=o.list),0==o.total?e.emptytxt=!0:e.emptytxt=!1}))},statusVal:function(e){var t=this.$createElement,o="";if(0==e.funcSwitchStatus)o=t("span",{class:"wathet"},["已下发"]);else if(1==e.funcSwitchStatus)o=t("span",{class:"green"},["已生效"]);else if(2==e.funcSwitchStatus){var a=Object(i["a"])(e.funcSwitchRes);o=a?t("span",{class:"red"},["下发失败（",a,"）"]):e.funcSwitchRes?t("span",{class:"red"},["下发失败（错误码：",e.funcSwitchRes,"）"]):t("span",{class:"red"},["下发失败"])}else o=t("span",{class:"grey"},["初始化状态"]);return o},switchBtn:function(){this.advancedSearch=!this.advancedSearch,this.advancedFlag=!this.advancedFlag},searchData:function(){var e=this;this.currentPage=1,this.loadData(),this.pageShow=!1,this.$nextTick((function(){e.pageShow=!0}))},indexMethod:function(e){return 1===this.currentPage?e<9?"0"+(e+1):e+1:e+1+this.pageSize*(this.currentPage-1)},sortChange:function(e,t,o){o=e.prop.replace(/([A-Z])/g,"_$1").toLowerCase();"ascending"==e.order?this.orderBy=o:this.orderBy=o+" desc",this.loadData()},handleSizeChange:function(e){var t=this;this.currentPage=1,this.pageSize=e,this.pageShow=!1,this.$nextTick((function(){t.pageShow=!0})),this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},openDialog:function(e){this.showDialog=!0,this.rowMessage=JSON.parse(JSON.stringify(e)),this.mask=!0},closeDialog:function(){this.showDialog=!1,this.mask=!1},openConfig:function(e){0==e.onlineStatus?this.$message({message:"终端已离线",type:"error",showClose:!0}):this.$refs.windows.diaOpen(e)},resetForm:function(){this.formInline.endDate="",this.formInline=Object.assign({},void 0),this.$refs.formInline.resetFields()},initData:function(){var e=this,t=0;e.autorefresh=setInterval((function(){t++,e.loadData(),t>5&&clearInterval(e.autorefresh)}),2e3)}},destroyed:function(){clearInterval(this.autorefresh)}},F=x,A=(o("1346"),Object(u["a"])(F,a,r,!1,null,"5524ccd6",null));t["default"]=A.exports},1346:function(e,t,o){"use strict";o("e11c")},"27ef":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEhElEQVRogeWaT2wUVRzHv/PHMt1i9w+6KVaMUofQ2oAHQrQ1JJCwXoyBk5YaSIyBhAR71Tn00MOgR/QEeiIUj/XApRNjo4nVQ0PVVPpnUlCaAg1pSZPtUrp017y3b4bZ7m773rS7s1s+yWYnk/fe7/vd2fd+789I2CJ0y9gP4CiAQwD2kVsAdgJoYBGWACQB2ACmAIwAGLIT5sRWKNiUEd0yWgGcBtANYI/PZmYA9AO4aifMcb9afBnRLaMDQC+A9/0GLsEggD47YQ6LVhQyolsG+dUvATi5ScEbMQCgx06YM7wVuI3olvEZMxEqh/IipJiZ73kKb2hEtwwi/ArrB0FA+s9ZO2GmfBvRLSMK4AaAjoBMOJA+84GdMB+VKlDSCDPxK4D2cioUYAzAkVJm5BImQuxJVIsJMC03mLYCihphfSLov1MxOpi2AgqMsNEpqI7NQzfTmEdeH2F5YqKCQ6xfyAi235tn1j6RSuaJzRBiWl3cJ8KmHb/VgAkvnc50xvtEegOXJY6rmT4RNou9VTv682gjs2aV3TnNU+PdWAu+OdCF8Av1ZVW2mH6Mz//+Ab8vTPMUJ9q/dP5aXMNt16uHqYlsNpv3IWQymU1Iz4fEILE4odpltrLjWhSpskK/FxYWkEwmkUqlMD8/T03Mzc0hnU4LCX5iT2Pl9r/0+mlmFTcfTmElk86LxcEe4kFmy9OKk569j4m33sF462Gk7z/AV6P96PqpDxdv9vuRclRla+yKI+2og9L4IiBJkDUNMa2RSojtaPQj5ZDKNgqEkCSp5IcX9aVdaPtvjJaWG0I4Hz2Bj1qOYZfmy8g+le12cPF4dSX3q8VibvFQKDcRaGpqEo5ODHjxmnBicaKrbMuGi8t3fkGzFkGzFoXAjy8EGQRnlx/RWALslHTLyIoGu/TGSbzd0FwWI38uzaLnzoBwPZWjjAtJiN8ePIVGVRMOxMtu7Ebn6+248Nd13oRIkdkOIBckSRET5U6IJIZAQiQsyWwbk4utTojL45NYnpii1yQR/jF3C09WhRMiISmzvdiKQxLi5IFOTB58D+l7D/D16HWc+dnExVFfCdGW2YZyxZHrNSiRMJRohF7H66NUQlyL+JEypbJd8U9FaimKAlmWaQJ0vsk9kYSoxKJou/sPvSZGzkU/xMdvHkO4jjsbeBkhRoZ4S6ee5pJUJPLsV3MSYjweF45ODHjxmnBicTLkLKzu8syAWxpeRl/rCbxSF85lLgdFgu8MSdpZ9bQlSbi3soje8R8xvfSQp4UZO2G+5uQR0sO+2KgGabh75DtkLo8he3vRvS+fa4e0N+zHBm2HtOf6aItBPtMq0gQdHbbNUpeuENlJ0WDwmoQZdE65vLsofbWhPQ9Xs2uE7Q+Jz9aCY8B7RLd2p7GHbUdWOymmFUWNsL3UnhowUnC+WHTw1y3jWhXvyPfbCfOTtTdLnY+cZcdd1cYw01bA9j56Q66/kApHquTJDK9nAusZwTMzx51pQECQ2MfXM4Hn6oUBL9viFQ4vNf9SzVpq/jWnYgT64hmA/wHflZvY1m0A2wAAAABJRU5ErkJggg=="},"33c0":function(e,t,o){},"3e4b":function(e,t,o){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dialogStyle"},[a("div",{staticClass:"title"},[a("span",[e._v("全局策略详情")]),a("span",{staticClass:"closeBtn",on:{click:e.closeDialog}},[a("i",{staticClass:"el-icon-close"})])]),a("div",{staticClass:"terminalInfo"},[a("img",{staticClass:"terminalImg",attrs:{src:o("27ef"),alt:""}}),a("span",[e._v(e._s(this.rowMessage.ip))]),a("img",{staticClass:"questionImg",attrs:{src:o("61e2"),title:"网络地址"}})]),a("div",{staticClass:"container"},[a("div",{staticStyle:{"text-align":"center"}},[e.emptytxt?a("img",{attrs:{src:o("4099")}}):e._e()]),e._l(e.tableData,(function(t,o){return a("div",{key:o,staticClass:"rowStyle"},[a("span",{staticClass:"itemType"},[e._v(e._s(t.name))]),a("span",{staticClass:"itemValue"},[e._v(e._s(t.value))])])}))],2)])},r=[],s=(o("a434"),o("b775")),l=(o("ac95"),{name:"StrategyDetails",props:{rowMessage:{type:Object}},data:function(){return{tableData:[],emptytxt:""}},mounted:function(){this.loadData()},methods:{loadData:function(){this.tableData=[];var e=this;Object(s["a"])({url:"/sys/searchFuncWwitch?node_id="+this.rowMessage.nodeId,method:"post"}).then((function(t){var o=t.data;if(o.object){e.emptytxt=!1,e.tableData.splice(0,e.tableData.length);var a=o.object;1==a.be_boot_measure_on?a.be_boot_measure_on="开启":a.be_boot_measure_on="关闭",1==a.be_program_measure_on?a.be_program_measure_on="开启":a.be_program_measure_on="关闭",1==a.be_dynamic_measure_on?a.be_dynamic_measure_on="开启":a.be_dynamic_measure_on="关闭",1==a.be_boot_control?a.be_boot_control="控制":a.be_boot_control="不控制",1==a.be_program_control?a.be_program_control="控制":a.be_program_control="不控制",1==a.be_policy_replay_check?a.be_policy_replay_check="需要校验":a.be_policy_replay_check="不需要校验",1==a.be_static_reference_replay_check?a.be_static_reference_replay_check="需要校验":a.be_static_reference_replay_check="不需要校验",1==a.be_dynamic_reference_replay_check?a.be_dynamic_reference_replay_check="需要校验":a.be_dynamic_reference_replay_check="不需要校验","0"==a.be_program_measure_mode?a.be_program_measure_mode="软件度量":"1"==a.be_program_measure_mode?a.be_program_measure_mode="TPCM校验":"2"==a.be_program_measure_mode?a.be_program_measure_mode="TPCM度量":"3"==a.be_program_measure_mode&&(a.be_program_measure_mode="自动度量"),1==a.be_measure_use_cache?a.be_measure_use_cache="使用缓存":a.be_measure_use_cache="不使用缓存",1==a.be_process_dmeasure_ref_mode?a.be_process_dmeasure_ref_mode="文件库完整性":a.be_process_dmeasure_ref_mode="启动时候采集",1==a.be_process_dmeasure_match_mode?a.be_process_dmeasure_match_mode="带路径匹配":a.be_process_dmeasure_match_mode="只匹配hash",1==a.be_program_measure_match_mode?a.be_program_measure_match_mode="带路径匹配":a.be_program_measure_match_mode="只匹配hash",1==a.be_process_dmeasure_lib_mode?a.be_process_dmeasure_lib_mode="度量":a.be_process_dmeasure_lib_mode="不度量","0"==a.be_process_verify_lib_mode?a.be_process_verify_lib_mode="按策略制定方式":"1"==a.be_process_verify_lib_mode?a.be_process_verify_lib_mode="不验证":"2"==a.be_process_verify_lib_mode?a.be_process_verify_lib_mode="按全局基准库验证":"3"==a.be_process_verify_lib_mode&&(a.be_process_verify_lib_mode="按专门基准库验证"),1==a.be_process_dmeasure_sub_process_mode?a.be_process_dmeasure_sub_process_mode="度量":a.be_process_dmeasure_sub_process_mode="不度量",1==a.be_process_dmeasure_old_process_mode?a.be_process_dmeasure_old_process_mode="度量":a.be_process_dmeasure_old_process_mode="不度量",1==a.protect_module?a.protect_module="开启":a.protect_module="关闭",1==a.protect_process?a.protect_process="开启":a.protect_process="关闭",e.tableData.push({name:"启动度量",value:o.object.be_boot_measure_on},{name:"启动度量控制开关",value:o.object.be_boot_control},{name:"白名单功能",value:o.object.be_program_measure_on},{name:"白名单控制开关",value:o.object.be_program_control},{name:"白名单度量模式",value:o.object.be_program_measure_mode},{name:"白名单度量匹配模式",value:o.object.be_program_measure_match_mode},{name:"策略重放校验",value:o.object.be_policy_replay_check},{name:"静态基准值重放校验",value:o.object.be_static_reference_replay_check},{name:"动态基准值重放校验",value:o.object.be_dynamic_reference_replay_check},{name:"程序度量使用缓存",value:o.object.be_measure_use_cache},{name:"动态度量",value:o.object.be_dynamic_measure_on},{name:"动态度量间隔时间",value:o.object.be_dmeasure_max_busy_delay+" 秒"},{name:"进程动态度量模式",value:o.object.be_process_dmeasure_ref_mode},{name:"进程动态度量匹配模式",value:o.object.be_process_dmeasure_match_mode},{name:"进程动态度量度量lib库",value:o.object.be_process_dmeasure_lib_mode},{name:"进程验签lib模式",value:o.object.be_process_verify_lib_mode},{name:"进程动态度量子进程度量模式",value:o.object.be_process_dmeasure_sub_process_mode},{name:"进程动态度量已启动进程度量模式",value:o.object.be_process_dmeasure_old_process_mode},{name:"进程动态度量时间间隔",value:o.object.be_process_dmeasure_interval+" 毫秒"},{name:"模块防卸载",value:o.object.protect_module},{name:"进程防杀",value:o.object.protect_process})}else e.emptytxt=!0}))},closeDialog:function(){this.$emit("closeDialog")}}}),i=l,n=(o("f356"),o("2877")),c=Object(n["a"])(i,a,r,!1,null,"1486cd3c",null);t["a"]=c.exports},4099:function(e,t,o){e.exports=o.p+"img/nodata.14a392e6.png"},4406:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAByElEQVQ4jX3US2sTURQH8N80rQRF0p0LQVDcKBFX6kJn41trEAUX0rUYQYjgxo/gxkfARfQziFRqdaNSHPEFbiTUhYp04UZEqFRIEI3cZCpj6M0f7sycew7/8x4xdOrVtZ16NYkaDOE/w069WsUVHMQG/MJr3Ci32vdGEY0NyZcwnZMETGAfrgahmYlGOD4kH43YPczfM83MK9xtpD40MyVswoF/Hjr16g68ixAduj3dfotvhSx+56UJ8nwxtSMRkmVkODxUilJBnisqguEztHAdT/AHj8utdhfHI476qRdrdLrcai8XtZ16dWsofDPrez4WIVlspBYGRLNLpTJ7TEmxHd/xtMyMWuVjc9pGrIkQPVDo2k1cHDI4jxfY20h9aWY24wx2YV2IJKQdCl0kOhHx1g6PXuZcaHmSukP/yO/Hk7TfPYnZpW1YiBCd7E1WQlRf0c0j/JSnuQU/knQQxPiIInbzzp3K56WM/flZweWVj7ERbZ1Xq/zEVEQf8KhIdB878wKuzxc2LOhcb7ACYb5Ww2KSer+iiP8mZpfGepOV3XgZsWglqQvFiFZHrRKm+g3O4nm+W+HuM27h2oiU4+hlJsJZ1QJ/AbUacHd8375/AAAAAElFTkSuQmCC"},"61e2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABYUlEQVR42lWSuY7CQAyG53GhICFItKCAaDg2BRQ8SCQKELRB4hCnEo6CCgrC0SFICB94lWVdzPgc/789KgzDKIrCj6Acj0fXdReLxel0Eo8IuuJ6Pp+cnueVSqV0Ol0uly3L0jStUChst1uSJEFJUa/XI9bv96MvGQwGuq53u10x36l0NAzjfD6jbzabn4+sVivBQzb6LwDTNEejEcb9fk8kErztOE4ymbzdbrSeTqf5fP79KvAzmYyguVwugoEygO52O9HBRkgtl8tKpRKTfTwe1+u11WrRF12c9Xp9PB6r+Xxeq9XiOSC2bTOKw+EglZzVapX5KNgAAJS4giAQZvv9/rs4lUr5vq+whVY8I3jMZjPJAxihYrGIqTDAkM1mqZNwo9FoNpsotIINS1mv138r6HQ6uIbDoWSDhCcmkwnc2+22gFFxX/YOG2KwZAVU5nI5cP/7A98i3wVIjExYxvICbA7xkncfoMAAAAAASUVORK5CYII="},8283:function(e,t,o){"use strict";o("33c0")},9514:function(e,t,o){},d521:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAB8klEQVQ4jZXTP2gTcRTA8a+vZ6uN6aBVDBpKmiCCf4qGCBUNFQpKJnHRgn/QQbAKWkUXZ4d2EwQ3xS5OWrtoF0EQHCI0g1mEC6FZWmxE0qa/NE3vfnKhV870EtsHb7h7v9/n3e/4PVqFCEdF+CrCsggZERItNzQLEbIiaE/+EiGwVcTo6ztmh8MH9MBAUg8NXXHBQb/1RgtrV/JschtSIxaNYFntTE19olQqHdwqtLI7kOZqahpB+FE4SXW57Lzf43uCZopto1Ln9tpdOy0CHTVOHSljGO1OKdWiuU8H4fjk5IReXXyrV8vvtda2Hh6+4/6n/s0iwXj8hGlZlvZGJpNxoZwIXZuBHo+NjWq/SCTiLvb8f4gRDAYKxWLRFxoff+NCFRH2tYJuOHemWeRyOe8Fvb2+z8e6l0g0n4RQKOR9POwLKZMdhTS6p3tirhm0ODda2W5AWxtcvMD8hgXK5JIy+aJMtDKxn4wMVpRSGw7o1F88I/v9I9PK5IMfNLuG1DP7mZ8PRx78iywV1+trWVMmtxqPprxwbw+Hbl6u1mfCiZmZGR7dT/1u6O+M2N1GyGz8yu6OlwuxWC9ORqMR/syni57yCvAUOO2K9eiMcV6Z7AfOANeB/tIC7/L5/GtgFqhGwvXReAUsAdc6Y3yrbwb+AubOLu3Wc3mcAAAAAElFTkSuQmCC"},e11c:function(e,t,o){},f356:function(e,t,o){"use strict";o("9514")},f67a:function(e,t,o){},fe67:function(e,t,o){"use strict";o("f67a")}}]);
//# sourceMappingURL=chunk-0e951c20.3ec24c16.js.map