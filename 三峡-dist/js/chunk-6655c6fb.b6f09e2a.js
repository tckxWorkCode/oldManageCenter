(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6655c6fb"],{"27ef":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAEhElEQVRogeWaT2wUVRzHv/PHMt1i9w+6KVaMUofQ2oAHQrQ1JJCwXoyBk5YaSIyBhAR71Tn00MOgR/QEeiIUj/XApRNjo4nVQ0PVVPpnUlCaAg1pSZPtUrp017y3b4bZ7m773rS7s1s+yWYnk/fe7/vd2fd+789I2CJ0y9gP4CiAQwD2kVsAdgJoYBGWACQB2ACmAIwAGLIT5sRWKNiUEd0yWgGcBtANYI/PZmYA9AO4aifMcb9afBnRLaMDQC+A9/0GLsEggD47YQ6LVhQyolsG+dUvATi5ScEbMQCgx06YM7wVuI3olvEZMxEqh/IipJiZ73kKb2hEtwwi/ArrB0FA+s9ZO2GmfBvRLSMK4AaAjoBMOJA+84GdMB+VKlDSCDPxK4D2cioUYAzAkVJm5BImQuxJVIsJMC03mLYCihphfSLov1MxOpi2AgqMsNEpqI7NQzfTmEdeH2F5YqKCQ6xfyAi235tn1j6RSuaJzRBiWl3cJ8KmHb/VgAkvnc50xvtEegOXJY6rmT4RNou9VTv682gjs2aV3TnNU+PdWAu+OdCF8Av1ZVW2mH6Mz//+Ab8vTPMUJ9q/dP5aXMNt16uHqYlsNpv3IWQymU1Iz4fEILE4odpltrLjWhSpskK/FxYWkEwmkUqlMD8/T03Mzc0hnU4LCX5iT2Pl9r/0+mlmFTcfTmElk86LxcEe4kFmy9OKk569j4m33sF462Gk7z/AV6P96PqpDxdv9vuRclRla+yKI+2og9L4IiBJkDUNMa2RSojtaPQj5ZDKNgqEkCSp5IcX9aVdaPtvjJaWG0I4Hz2Bj1qOYZfmy8g+le12cPF4dSX3q8VibvFQKDcRaGpqEo5ODHjxmnBicaKrbMuGi8t3fkGzFkGzFoXAjy8EGQRnlx/RWALslHTLyIoGu/TGSbzd0FwWI38uzaLnzoBwPZWjjAtJiN8ePIVGVRMOxMtu7Ebn6+248Nd13oRIkdkOIBckSRET5U6IJIZAQiQsyWwbk4utTojL45NYnpii1yQR/jF3C09WhRMiISmzvdiKQxLi5IFOTB58D+l7D/D16HWc+dnExVFfCdGW2YZyxZHrNSiRMJRohF7H66NUQlyL+JEypbJd8U9FaimKAlmWaQJ0vsk9kYSoxKJou/sPvSZGzkU/xMdvHkO4jjsbeBkhRoZ4S6ee5pJUJPLsV3MSYjweF45ODHjxmnBicTLkLKzu8syAWxpeRl/rCbxSF85lLgdFgu8MSdpZ9bQlSbi3soje8R8xvfSQp4UZO2G+5uQR0sO+2KgGabh75DtkLo8he3vRvS+fa4e0N+zHBm2HtOf6aItBPtMq0gQdHbbNUpeuENlJ0WDwmoQZdE65vLsofbWhPQ9Xs2uE7Q+Jz9aCY8B7RLd2p7GHbUdWOymmFUWNsL3UnhowUnC+WHTw1y3jWhXvyPfbCfOTtTdLnY+cZcdd1cYw01bA9j56Q66/kApHquTJDK9nAusZwTMzx51pQECQ2MfXM4Hn6oUBL9viFQ4vNf9SzVpq/jWnYgT64hmA/wHflZvY1m0A2wAAAABJRU5ErkJggg=="},"4ee6":function(e,t,a){},5817:function(e,t,a){"use strict";a("4ee6")},"61e2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAIAAACQKrqGAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABYUlEQVR42lWSuY7CQAyG53GhICFItKCAaDg2BRQ8SCQKELRB4hCnEo6CCgrC0SFICB94lWVdzPgc/789KgzDKIrCj6Acj0fXdReLxel0Eo8IuuJ6Pp+cnueVSqV0Ol0uly3L0jStUChst1uSJEFJUa/XI9bv96MvGQwGuq53u10x36l0NAzjfD6jbzabn4+sVivBQzb6LwDTNEejEcb9fk8kErztOE4ymbzdbrSeTqf5fP79KvAzmYyguVwugoEygO52O9HBRkgtl8tKpRKTfTwe1+u11WrRF12c9Xp9PB6r+Xxeq9XiOSC2bTOKw+EglZzVapX5KNgAAJS4giAQZvv9/rs4lUr5vq+whVY8I3jMZjPJAxihYrGIqTDAkM1mqZNwo9FoNpsotIINS1mv138r6HQ6uIbDoWSDhCcmkwnc2+22gFFxX/YOG2KwZAVU5nI5cP/7A98i3wVIjExYxvICbA7xkncfoMAAAAAASUVORK5CYII="},7156:function(e,t,a){var s=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var r,i;return n&&"function"==typeof(r=t.constructor)&&r!==a&&s(i=r.prototype)&&i!==a.prototype&&n(e,i),e}},"8b38":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{staticClass:"container"},[a("div",{staticClass:"topNav"},[a("el-breadcrumb",{staticClass:"breadNav",attrs:{separator:"/"}},[a("el-breadcrumb-item",{staticClass:"crumb1"},[e._v("首页")]),a("el-breadcrumb-item",{staticClass:"crumb1"},[e._v("可信验证")]),a("el-breadcrumb-item",{staticClass:"crumb1"},[e._v("可信报告")]),a("el-breadcrumb-item",{staticClass:"crumb2"},[e._v("报告信息")])],1)],1),a("div",{staticClass:"wrap"},[a("div",{staticClass:"search"},[a("el-form",{ref:"formInline",staticClass:"formInline",attrs:{inline:!0,"label-position":"right","label-width":"150px",model:e.formInline,size:"small"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form-item",{attrs:{label:"终端名称/网络地址：",prop:"terminalName"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入终端名称/网络地址",oninput:"value=value.replace(/[%]/g, '')"},model:{value:e.formInline.terminalName,callback:function(t){e.$set(e.formInline,"terminalName",t)},expression:"formInline.terminalName"}})],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.advancedSearch,expression:"advancedSearch==true"}],attrs:{label:"日期：",prop:"startDate"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",editable:!1,type:"date",placeholder:"选择开始时间"},model:{value:e.formInline.startDate,callback:function(t){e.$set(e.formInline,"startDate",t)},expression:"formInline.startDate"}}),e._v(" "),a("span",{},[e._v("至")]),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",editable:!1,type:"date",placeholder:"选择结束时间"},model:{value:e.formInline.endDate,callback:function(t){e.$set(e.formInline,"endDate",t)},expression:"formInline.endDate"}})],1),a("el-form-item",{staticClass:"advancedBtn"},[a("el-button",{staticClass:"resetBtn",attrs:{size:"small"},on:{click:e.resetForm}},[e._v("重置")]),a("el-button",{staticClass:"searchBtn",attrs:{size:"small"},on:{click:e.searchData}},[e._v("查询")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1==e.advancedFlag,expression:"advancedFlag==true"}],staticClass:"gaoji",attrs:{size:"small"},on:{click:e.switchBtn}},[e._v("展开"),a("i",{staticClass:"el-icon-arrow-down el-icon--right",staticStyle:{"font-weight":"bold"}})]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:0==e.advancedFlag,expression:"advancedFlag==false"}],staticClass:"gaoji",attrs:{size:"small"},on:{click:e.switchBtn}},[e._v("收起"),a("i",{staticClass:"el-icon-arrow-up el-icon--right",staticStyle:{"font-weight":"bold"}})])],1)],1)],1),a("div",{staticClass:"mainContainer"},[a("div",{staticClass:"tableTitle"},[e._v("信息列表")]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"reportTable",staticStyle:{width:"99.9%","font-size":"14px"},attrs:{data:e.reportData,size:"small","cell-style":{color:"rgba(0, 0, 0, 0.9)"},"element-loading-text":"加载中，请稍后","header-cell-style":{height:"48px","background-color":"#F0F2F5",color:"rgba(0, 0, 0, 0.72)"},fit:!0,"row-key":"id"},on:{"sort-change":e.sortChange}},[a("template",{slot:"empty"},[a("div",[e._v("暂无数据")])]),a("el-table-column",{attrs:{type:"index",index:e.indexMethod,label:"序号",width:"80px"}}),a("el-table-column",{attrs:{prop:"name",label:"终端名称","min-width":"130%","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"nodeIp",label:"网络地址","min-width":"100%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#1ac492",cursor:"pointer"},on:{click:function(a){return e.openDialog(t.row)}}},[e._v(e._s(t.row.nodeIp))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"验签状态"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.status?a("span",[e._v("成功")]):"1"==t.row.status?a("span",[e._v("失败")]):"2"==t.row.status?a("span",[e._v("证书已过期")]):"3"==t.row.status?a("span",[e._v("无证书")]):"4"==t.row.status?a("span",[e._v("证书不在有效期内")]):"5"==t.row.status?a("span",[e._v("无证书")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"beEval",label:"可信评分"},scopedSlots:e._u([{key:"default",fn:function(t){return["100"==t.row.beEval?a("span",[e._v(e._s(t.row.beEval)+" (可信)")]):a("span",[e._v(e._s(t.row.beEval)+" (不可信)")])]}}])}),a("el-table-column",{attrs:{prop:"beIlegalProgramLoad",label:"非法程序执行次数","render-header":e.renderHeader}}),a("el-table-column",{attrs:{prop:"beIlegalFileAccess",label:"非法文件访问次数","render-header":e.renderHeader}}),a("el-table-column",{attrs:{prop:"beBootMeasureResult",label:"启动度量"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"==t.row.beBootMeasureResult?a("span",[a("span",{staticClass:"aqua"},[e._v("●")]),e._v("可信")]):"1"==t.row.beBootMeasureResult?a("span",[a("span",{staticClass:"lightRed"},[e._v("●")]),e._v("不可信")]):"2"==t.row.beBootMeasureResult?a("span",[a("span",{staticClass:"greyDot"},[e._v("●")]),e._v("未度量")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"beBootTimes",label:"启动次数"}}),a("el-table-column",{attrs:{prop:"beTpcmReportTime",label:"上报时间",sortable:"custom","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"beLogNumber",label:"日志条数"}})],2),e.pageShow?a("el-pagination",{staticClass:"paging",attrs:{align:"right","current-page":e.currentPage.sync,"page-sizes":[10,20],"page-size":e.pageSize,layout:"total, prev, pager, next, sizes, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])]),1==e.showDialog?a("div",{staticClass:"dialogContent"},[a("report-detail",{ref:"poplay",attrs:{rowMessage:e.rowMessage},on:{closeDialog:e.closeDialog}})],1):e._e(),1==e.mask?a("div",{staticClass:"mask",on:{click:e.closeDialog}}):e._e()])},n=[],r=(a("d81d"),a("fb6a"),a("ac1f"),a("5319"),a("b775")),i=a("ac95"),o=a("b893"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dialogStyle"},[s("div",{staticClass:"title"},[s("span",[e._v("可信报告详情")]),s("span",{staticClass:"closeBtn",on:{click:e.closeDialog}},[s("i",{staticClass:"el-icon-close"})])]),s("div",{staticClass:"terminalInfo"},[s("img",{staticClass:"terminalImg",attrs:{src:a("27ef"),alt:""}}),s("span",[e._v(e._s(this.rowMessage.nodeIp))]),s("img",{staticClass:"questionImg",attrs:{src:a("61e2"),title:"网络地址"}}),s("circle-rate",{staticClass:"circle",attrs:{percentNum:e.rate}})],1),s("div",{staticClass:"container"},e._l(e.tableData,(function(t,a){return s("div",{key:a,staticClass:"rowStyle"},[s("span",{staticClass:"itemType"},[e._v(e._s(t.name))]),s("span",{staticClass:"itemValue"},[e._v(e._s(t.value))])])})),0)])},c=[],u=(a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"percentloop"},[a("div",{staticClass:"circle-left"},[a("div",{ref:"leftcontent"})]),a("div",{staticClass:"circle-right"},[a("div",{ref:"rightcontent"})]),a("div",{staticClass:"number"},[a("div",{staticClass:"rateContent"},[a("span",{staticClass:"rate"},[e._v(e._s(e.percent))]),a("br"),a("span",{staticClass:"rateText"},[e._v("可信评分")])])])])}),d=[],p=(a("a9e3"),{props:{percentNum:{type:[String,Number],default:0}},data:function(){return{percent:this.percentNum,initDeg:0}},methods:{goRotate:function(e){var t=this,a=setInterval((function(){Number(e)===Number(t.initDeg)?clearInterval(a):e>t.initDeg?(t.initDeg+=1,t.initDeg>180?t.$refs.rightcontent.style.transform="rotate("+(t.initDeg-180)+"deg)":t.$refs.leftcontent.style.transform="rotate("+t.initDeg+"deg)"):(t.initDeg-=1,t.initDeg>=180?t.$refs.rightcontent.style.transform="rotate("+(t.initDeg-180)+"deg)":t.$refs.leftcontent.style.transform="rotate("+t.initDeg+"deg)")}),0)}},computed:{getDeg:function(){var e=0;return e=this.percent>=100?360:parseInt(360*this.percent/100),e}},mounted:function(){this.goRotate(this.getDeg)},watch:{percentNum:function(e){this.percent=e,this.goRotate(this.getDeg)}}}),m=p,g=(a("c2d5"),a("2877")),f=Object(g["a"])(m,u,d,!1,null,"ad277c48",null),b=f.exports,h={name:"TpcmPop",props:{rowMessage:{type:Object}},components:{circleRate:b},data:function(){return{tableData:[],rate:""}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;Object(r["a"])({url:"/sec/lTrustReportInfo?id="+this.rowMessage.id,method:"post"}).then((function(t){var a=t.data;if(e.tableData.splice(0,e.tableData.length),a.object){var s=a.object;s.beTpcmReportTime=Object(i["a"])(s.beTpcmReportTime),e.rate=s.beEval,"0"==s.beBootMeasureResult?s.beBootMeasureResult="可信":"1"==s.beBootMeasureResult?s.beBootMeasureResult="不可信":"2"==s.beBootMeasureResult&&(s.beBootMeasureResult="未度量"),"0"==s.status?s.status="成功":"1"==s.status?s.status="失败":"2"==s.status?s.status="证书已过期":"3"==s.status?s.status="无证书":"4"==s.status?s.status="证书不在有效期内":"5"==s.status&&(s.status="无证书"),e.tableData.push({name:"非法程序执行次数",value:s.beIlegalProgramLoad},{name:"非法动态库加载次数",value:s.beIlegalLibLoad},{name:"非法内核模块加载次数",value:s.beIlegalKernelModuleLoad},{name:"非法文件访问次数",value:s.beIlegalFileAccess},{name:"非法设备访问次数",value:s.beIlegalDeviceAccess},{name:"非法网络访问次数",value:s.beIlegalNetworkInreq},{name:"程序代码段度量失败次数",value:s.beProcessCodeMeasureFail},{name:"内核代码段度量失败次数",value:s.beKernelCodeMeasureFail},{name:"内核关键数据度量失败次数",value:s.beKernelDataMeasureFail},{name:"错误通知次数",value:s.beNotifyFail},{name:"启动度量",value:s.beBootMeasureResult},{name:"启动次数",value:s.beBootTimes},{name:"内部时钟计数",value:s.beTpcmTime},{name:"上报时间",value:s.beTpcmReportTime},{name:"日志条数",value:s.beLogNumber},{name:"验签状态",value:s.status})}}))},closeDialog:function(){this.$emit("closeDialog")}}},v=h,A=(a("5817"),Object(g["a"])(v,l,c,!1,null,"029bd87c",null)),w=A.exports,C={name:"Report",components:{ReportDetail:w},data:function(){return{loading:!1,formInline:{terminalName:"",startDate:"",endDate:""},orderBy:"be_tpcm_report_time desc",advancedSearch:!0,advancedFlag:!1,emptytxt:!1,reportData:[],currentPage:1,total:0,pageSize:10,pageShow:!0,showDialog:!1,mask:!1,rowMessage:{}}},created:function(){Object(o["b"])(this.searchData)},mounted:function(){this.loadData()},beforeDestroy:function(){document.onkeydown=null},methods:{loadData:function(){var e=this;this.loading=!0,Object(r["a"])({url:"/sec/lTrustReportList",method:"post",data:{condition:this.formInline.terminalName,firstTime:this.formInline.startDate,lastTime:this.formInline.endDate,orderBy:this.orderBy,searchPage:this.currentPage,searchSize:this.pageSize}}).then((function(t){var a=t.data;if(e.loading=!1,a.list){a.list.map((function(e,t){e.beTpcmReportTime=Object(i["a"])(e.beTpcmReportTime)})),e.total=a.total;var s=a.list,n=(e.currentPage-1)*e.pageSize;n>=s.length&&(n=0);var r=e.currentPage*e.pageSize;r>=s.length&&(r=s.length),e.reportData=s.slice(n,r)}0==a.total?e.emptytxt=!0:e.emptytxt=!1}))},switchBtn:function(){this.advancedSearch=!this.advancedSearch,this.advancedFlag=!this.advancedFlag},searchData:function(){var e=this;this.currentPage=1,this.loadData(),this.pageShow=!1,this.$nextTick((function(){e.pageShow=!0}))},renderHeader:function(e,t){var a=t.column,s=(t.$index,document.createElement("span"));return s.innerText=a.label,document.body.appendChild(s),a.minWidth=s.getBoundingClientRect().width+20,document.body.removeChild(s),e("span",a.label)},indexMethod:function(e){return 1===this.currentPage?e<9?"0"+(e+1):e+1:e+1+this.pageSize*(this.currentPage-1)},sortChange:function(e,t,a){a=e.prop.replace(/([A-Z])/g,"_$1").toLowerCase();"ascending"==e.order?this.orderBy=a:this.orderBy=a+" desc",this.loadData()},handleSizeChange:function(e){var t=this;this.currentPage=1,this.pageSize=e,this.pageShow=!1,this.$nextTick((function(){t.pageShow=!0})),this.loadData()},handleCurrentChange:function(e){this.currentPage=e,this.loadData()},openDialog:function(e){this.showDialog=!0,this.rowMessage=JSON.parse(JSON.stringify(e)),this.mask=!0},closeDialog:function(){this.showDialog=!1,this.mask=!1},resetForm:function(){this.formInline.endDate="",this.formInline=Object.assign({},void 0),this.$refs.formInline.resetFields()}}},I=C,y=(a("b0a9"),Object(g["a"])(I,s,n,!1,null,"66a4f74c",null));t["default"]=y.exports},"8fbf":function(e,t,a){},a9e3:function(e,t,a){"use strict";var s=a("83ab"),n=a("da84"),r=a("94ca"),i=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),m=a("241c").f,g=a("06cf").f,f=a("9bf2").f,b=a("58a8").trim,h="Number",v=n[h],A=v.prototype,w=l(p(A))==h,C=function(e){var t,a,s,n,r,i,o,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+c}for(r=c.slice(2),i=r.length,o=0;o<i;o++)if(l=r.charCodeAt(o),l<48||l>n)return NaN;return parseInt(r,s)}return+c};if(r(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var I,y=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof y&&(w?d((function(){A.valueOf.call(a)})):l(a)!=h)?c(new v(C(t)),a,y):C(t)},D=s?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;D.length>S;S++)o(v,I=D[S])&&!o(y,I)&&f(y,I,g(v,I));y.prototype=A,A.constructor=y,i(n,h,y)}},b0a9:function(e,t,a){"use strict";a("d2f7")},c2d5:function(e,t,a){"use strict";a("8fbf")},d2f7:function(e,t,a){},fb6a:function(e,t,a){"use strict";var s=a("23e7"),n=a("861d"),r=a("e8b5"),i=a("23cb"),o=a("50c4"),l=a("fc6a"),c=a("8418"),u=a("b622"),d=a("1dde"),p=d("slice"),m=u("species"),g=[].slice,f=Math.max;s({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var a,s,u,d=l(this),p=o(d.length),b=i(e,p),h=i(void 0===t?p:t,p);if(r(d)&&(a=d.constructor,"function"!=typeof a||a!==Array&&!r(a.prototype)?n(a)&&(a=a[m],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return g.call(d,b,h);for(s=new(void 0===a?Array:a)(f(h-b,0)),u=0;b<h;b++,u++)b in d&&c(s,u,d[b]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-6655c6fb.b6f09e2a.js.map